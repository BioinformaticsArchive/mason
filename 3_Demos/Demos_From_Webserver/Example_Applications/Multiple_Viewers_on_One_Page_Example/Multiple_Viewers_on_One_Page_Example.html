<html>
<head>
	<title>Mason Example Applicaton: Multiple Viewers on One Page</title>
	<link rel="stylesheet" type="text/css" href="../../css/demo.css">
</head>
<body>

<div>
	<a href="../../index.html">Back to Mason Demos</a>
</div>

<h1>Mason Example Applicaton: Multiple Viewers on One Page</h1>

<div style="width:90%">Multiple Mason viewers may appear on the same page. When the viewers are describing the same sequence, the
viewers may optionally register with a central registry to enable a visual indication of where the currently moused-over feature maps onto
the other viewers. This aids in understanding annotations in the context of other annotations, and is especially useful in the
event of many rows and/or many viewers. In the example below, six Mason viewers are shown: protein sequence coverage from 13 proteomics
experiments shown in separate rows(red), protein sequence coverage from the PeptideAtlas resource (purple), transmembrane and signal peptide predictions (olive),
secondary structure prediction (green), coiled-coil predictions (cyan), and disordered regions predictions (black).</div>

<div style="margin-top:15px;width:90%">More information about displaying multiple rows and showing vertical lines of interest (trypsin cut points in example below) can be found <a href="../Protein_Sequence_Coverage_Example/Protein_Sequence_Coverage_Example.html">here</a>.</div>



<br>
Show/hide trypsin cut points
<input type="checkbox" id="multi_row_show-hide-vertical-data-lines-checkbox-jq" >
<br>
<div  >


	<!-- The viewer will be the width of the div it is created in  -->

	<div id="multi_row_all_features_mason_viewer" class="mason-viewer-jq" style="width:90%;" ></div>

</div>


<br>
Show/hide trypsin cut points
<input type="checkbox" id="peptide-atlas-show-hide-vertical-data-lines-checkbox-jq" >
<br>
<div style="width:100%;">


	<!-- The viewer will be the width of the div it is created in  -->

	<div id="peptide_atlas_mason_viewer" class="mason-viewer-jq" style="width:90%;" ></div>

</div>


<div style="width:100%;">


	<!-- The viewer will be the width of the div it is created in  -->

	<div id="philius-mason-viewer" class="mason-viewer-jq" style="width:90%;" ></div>
</div>

<div style="width:100%;">


	<!-- The viewer will be the width of the div it is created in  -->

	<div id="secondary-structure-prediction-mason-viewer" class="mason-viewer-jq" style="width:90%;" ></div>

</div>


<div style="width:100%;">

	<!-- The viewer will be the width of the div it is created in  -->

	<div id="coiled-coil-mason-viewer" class="mason-viewer-jq" style="width:90%;" ></div>

</div>


<div style="width:100%;">

	<!-- The viewer will be the width of the div it is created in  -->

	<div id="disordered-regions-prediction-mason-viewer" class="mason-viewer-jq" style="width:90%;" ></div>
</div>

<div id="svg-not-supported" style="display: none; text-align: center; color: darkred;" >

	<div >&nbsp;</div>
	<h3>Unable to show Mason Viewer due to lack of SVG support in this browser</h3>
	<div >&nbsp;</div>
	<div >Please use a different browser to view the Mason Viewer.<br/>
	Possible choices are Firefox, Google Chrome, Internet Explorer version 9 or higher.</div>
</div>



<div style="width:90%;margin-top:20px;margin-bottom:10px;">
	Below is sample code showing how Mason viewers should register with the registry to support inter-viewer display of highlighted features. First,
	the registry is a separate JavaScript file and must be included in the HTML:
</div>

<pre class="code-block" style="margin-left: 20px;" >
	&lt;script type="text/javascript" src="js/mason_viewer/mason_viewer_registry.js"&gt;</script>
</pre>

<div style="width:90%;margin-top:20px;margin-bottom:10px;">
	Then, Mason viewer objects may be added to the registry by calling <span class="code">addMasonViewer()</span> as shown below. More detailed
	documentation can be found at the <a href="https://github.com/yeastrc/mason">GitHub site</a>.
</div>

<pre class="code-block" style="margin-left: 20px;" >

		// create the Mason viewer.
		var masonViewer = MasonViewer.createMasonViewer( $rootDivPeptide_coverage, requestParams, configParams, callbackFunctionsObj );

		// add this Mason viewer to the registry.
		if ( this.config.masonViewerRegistry ) {

			//   itemKey has to be unique across all the viewers registered with a specific registry
			this.config.masonViewerRegistry.addMasonViewer( { itemKey: "coiledcoil", masonViewer: masonViewer } );
		}

</pre>


<!-- import required libraries -->


<script type="text/javascript" src="js/libraries/jquery-1.8.0.min.js" ></script>

<script type="text/javascript"  src="js/libraries/modernizr.v2.7.1__custom.39924_min.js"></script>

<script type="text/javascript"  src="js/libraries/svg.min.js"></script>
<script type="text/javascript"  src="js/libraries/wz_tooltip-min.js"></script>

<script type="text/javascript">



//jQuery method of running code when page is loaded

$(document).ready( function(){

	$(".mason-viewer-jq").each(function() {

		var $this = $( this );

		//  Change the  width of the enclosing div of the mason viewers
		//  from percent to pixels all at the same time so that
		//  if they all have the same percentage they will all have the same width.

		//  This is done since the page may grow as each mason viewer is created,
		//  the page may exceed the height of the browser view port and a scroll bar may
		//  appear to the page changing the width of the view port, changing the width
		//  of the divs since they are specified as a percentage, changing the width
		//  of the mason viewers created after the scroll bar appears.


		//  Change the width from percent to pixels

		// get the width in pixels
		var divWidth = $this.width();

		//  set the width in pixels
		$this.width( divWidth )

	});


});

</script>


<!-- import mason viewer js file. -->

<!--  import minified file for production. -->
<!--
-->
<script type="text/javascript" src="js/mason_viewer/mason_viewer-min-munged.js"></script>


<!-- Optional  import non-minified file for debugging. -->
<!--
<script type="text/javascript" src="js/mason_viewer/mason_viewer.js"></script>
-->


<script type="text/javascript" src="js/load_matching_protein_sequence.js"></script>


<script type="text/javascript" src="js/mason_viewer/mason_viewer_registry.js"></script>

<!-- Import the JS files for this demo from the local folder  -->


<script type="text/javascript" src="js/example_Multi_row_example_All_Features_sample_data.js"></script>

<script type="text/javascript" src="js/multi_row__all_features_mason_viewer_related_code/multi_row__all_features_callbacks.js"></script>

<script type="text/javascript" src="js/multi_row__all_features_mason_viewer_related_code/multi_row__all_features_creator.js"></script>

<script type="text/javascript" src="js/example_PeptideAtlas_sample_data.js"></script>

<script type="text/javascript" src="js/peptide_atlas_mason_viewer_related_code/peptide_atlas_callbacks.js"></script>

<script type="text/javascript" src="js/peptide_atlas_mason_viewer_related_code/peptide_atlas_creator.js"></script>


<script type="text/javascript" src="js/philius__mason_viewer_related_code/philius_callbacks.js"></script>

<script type="text/javascript" src="js/philius__mason_viewer_related_code/philius_creator.js"></script>

<script type="text/javascript" src="js/secondary_structure_prediction_mason_viewer_related_code/secondary_structure_prediction_callbacks.js"></script>

<script type="text/javascript" src="js/secondary_structure_prediction_mason_viewer_related_code/secondary_structure_prediction_creator.js"></script>





<script type="text/javascript" src="js/coiled_coil_mason_viewer_related_code/coiled_coil_prediction_callbacks.js"></script>

<script type="text/javascript" src="js/coiled_coil_mason_viewer_related_code/coiled_coil_prediction_creator.js"></script>


<script type="text/javascript" src="js/disordered_regions_prediction_mason_viewer_related_code/disordered_regions_prediction_callbacks.js"></script>

<script type="text/javascript" src="js/disordered_regions_prediction_mason_viewer_related_code/disordered_regions_prediction_creator.js"></script>

<script type="text/javascript" src="js/example_Multiple_Viewers.js"></script>

</body>

</html>
